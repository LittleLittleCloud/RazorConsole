@namespace RazorConsole.Components

<div @onfocus="OnFocus" @onfocusout="OnFocusOut" @onclick="OnClick">
	<Markup Content="@Content" Background="@(isFocused ? FocusedColor : BackgroundColor)" />
</div>

@code {
    /// <summary>
    /// Renders a clickable button with text content that changes appearance when focused.
    /// </summary>
    /// <remarks>
    /// This component provides a simple button implementation with focus and click support.
    /// The background color changes when the button receives focus, providing visual feedback.
    /// </remarks>

    private bool isFocused = false;

    /// <summary>
    /// Gets or sets the background color when the button is focused.
    /// </summary>
    /// <remarks>
    /// Default is <see cref="Spectre.Console.Color.Yellow"/>.
    /// </remarks>
    [Parameter]
    public Spectre.Console.Color FocusedColor { get; set; } = Spectre.Console.Color.Yellow;

    /// <summary>
    /// Gets or sets the background color when the button is not focused.
    /// </summary>
    /// <remarks>
    /// Default is <see cref="Spectre.Console.Color.Default"/>.
    /// </remarks>
    [Parameter]
    public Spectre.Console.Color BackgroundColor { get; set; } = Spectre.Console.Color.Default;

    /// <summary>
    /// Gets or sets the text content displayed on the button.
    /// </summary>
    [Parameter]
    public string Content { get; set; } = string.Empty;

    /// <summary>
    /// Gets or sets the event callback invoked when the button is clicked.
    /// </summary>
    [Parameter]
    public EventCallback OnClick { get; set; }

    private void OnFocus(FocusEventArgs e)
    {
        isFocused = true;
        StateHasChanged();
    }

    private void OnFocusOut(FocusEventArgs e)
    {
        isFocused = false;
        StateHasChanged();
    }
}
